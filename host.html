<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Host Dashboard ‚Äì UVPL</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    body { font-family: Arial, sans-serif; padding: 2rem; }
    h1 { background-color: #2e1065; color: white; padding: 1rem; border-radius: 8px; text-align: center; }
    button, select, input { margin: 0.5rem 0; padding: 0.5rem; font-size: 1rem; }
    .section { margin-top: 2rem; border-top: 2px solid #ddd; padding-top: 1.5rem; }
    table { width: 100%; border-collapse: collapse; margin-top: 1rem; }
    th, td { border: 1px solid #ccc; padding: 0.5rem; text-align: center; }
    th { background-color: #2e1065; color: white; }
    .player-name:hover, .team-name:hover { cursor: pointer; color: green; font-weight: bold; }
    .live-box { background: #f5f5f5; padding: 1rem; margin-top: 1rem; border-radius: 8px; }
  </style>
</head>
<body>
  <h1>üèê Host Dashboard ‚Äì UVPL</h1>
  <button onclick="window.open('players.html')">üèÖ View Top Players</button>

  <!-- Live Match Display Section -->
  <div id="liveMatchDisplay" class="section" style="display:none;">
    <h2>üî¥ Live Match</h2>
    <div id="liveMatchInfo"></div>
    <div id="liveIframe">
      <iframe width="100%" height="300" src="https://www.youtube.com/embed/live_stream?channel=UCnkKh0FHDKfUGv1ehq7NH5w" frameborder="0" allowfullscreen></iframe>
    </div>
  </div>

  <!-- Keep existing dashboard features below... -->
  <!-- (No changes made to match scheduler, player manager, and rules editor) -->

  <script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.11.0/firebase-database-compat.js"></script>
  <script src="firebase-config.js"></script>
  <script>
    const db = firebase.database();
    const allTeams = {
      Men: ["United Challengers", "UC Twistter", "Azraq Astronuts", "IJC Ninjas"],
      Women: ["United Challengers", "UC Twistter", "Azraq Astronuts", "IJC Ninjas"]
    };

    function checkLiveMatch() {
      const today = new Date().toISOString().split('T')[0];
      db.ref(`schedule/${today}`).once("value").then(snap => {
        const data = snap.val();
        if (!data) return;
        Object.keys(data).forEach(time => {
          const match = data[time];
          if (match.status === "Live") {
            document.getElementById("liveMatchDisplay").style.display = "block";
            document.getElementById("liveMatchInfo").innerHTML = `
              <h3>${match.team1} vs ${match.team2}</h3>
              <p>Time: ${time}</p>
              <p>Gender: ${match.gender}</p>
            `;
          }
        });
      });
    }

    window.onload = () => {
      checkLiveMatch();
    };
  </script>
</body>
</html>
